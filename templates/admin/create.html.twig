{% extends 'base.html.twig' %}

{% block title %}
    Administration du site
{% endblock %}

{% block body %}
    <div class="d-flex justify-content-center">
        {{ form_start(my_form) }}
        {{ form_errors(my_form) }}

        <div class="form-group">
            {{ form_label(my_form.nom) }}
            {{ form_widget(my_form.nom, {'attr': { 'class': 'form-control'}}) }}
            {{ form_errors(my_form.nom) }}
        </div>

        <div class="form-group">
            {{ form_label(my_form.prix) }}
            {{ form_widget(my_form.prix, {'attr': { 'class':'form-control'}}) }}
            {{ form_errors(my_form.prix) }}
        </div>

        <div class="form-group">
            {{ form_label(my_form.quantite) }}
            {{ form_widget(my_form.quantite, {'attr': { 'class':'form-control'}}) }}
            {{ form_errors(my_form.quantite) }}
        </div>

        <div class="form-group mt-3">
            {{ form_label(my_form.rupture) }}
            {{ form_widget(my_form.rupture) }}
            {{ form_errors(my_form.rupture) }}
        </div>

        <div class="form-group mt-3">
            {{ form_label(my_form.lienImage) }}
            {{ form_widget(my_form.lienImage) }}
            {{ form_errors(my_form.lienImage) }}
        </div>

        <div class="form-group mt-3">
            {{ form_label(my_form.reference.numero) }}
            {{ form_widget(my_form.reference.numero, {'attr': { 'class':'form-control'}}) }}
            {{ form_errors(my_form.reference.numero) }}
        </div>

        {#
        <div {{ stimulus_controller('form-collection') }}
             data-form-collection-index-value="{{ my_form.distributeurs|length > 0 ? my_form.distributeurs|last.vars.name + 1 : 0 }}"
             data-form-collection-prototype-value="{{ prototypeRendered|e('html_attr') }}">
            <ul {{ stimulus_target('form-collection', 'collectionContainer') }}></ul>
            <button type="button" {{ stimulus_action('form-collection', 'addCollectionElement') }}>
                Ajout d'un Distributeur
            </button>
        </div>
        #}

        <div class="form-group mt-3">
            {{ form_label(my_form.distributeurs) }}
            {{ form_widget(my_form.distributeurs, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(my_form.distributeurs) }}
        </div>

        <div class="mt-4">
            {{ form_row(my_form.creer, {'attr': { 'class':'btn btn-info'}}) }}
        </div>


        {{ form_end(my_form) }}
    </div>
{% endblock %}